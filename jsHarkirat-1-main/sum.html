<!DOCTYPE html>
<html lang="en">
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/style.css" rel="stylesheet">
    </head>

    <script>
        //function sum(){
        //    const a = document.getElementById("num1").value;
        //    const b = document.getElementById("num2").value;
            // const ans = document.getElementById("result");
            // ans.innerHTML = parseInt(a)+parseInt(b); 

            // axios
            //fetch("https://sum-server.100xdevs.com/sum?a=" + a + "&b=" + b)
            //    .then(function(response){
            //        console.log(response);
//
            //        response.text()
            //           .then(function(ans){
            //               console.log(ans);
            //            })
            //    })
            
        //    fetch("https://sum-server.100xdevs.com/sum?a=" + a + "&b=" + b).then(function (response){
        //        response.text().then(function (ans){
        //            console.log(ans);
        //        })
        //    })
        //}

        let timeout;
        function debounceSum(){
            // delay the call to sum untill ive not been called for 100ms
            // and I've been called atleast once
            // how to cancel the previous call when new request comes and start the new clock
            
            clearTimeout(timeout);

            timeout = setTimeout(()=>{
                sum()
            }, 100);
        }

        async function sum(){
            const a = document.getElementById("num1").value;
            const b = document.getElementById("num2").value;

            const response = await fetch("https://sum-server.100xdevs.com/sum?a=" + a + "&b=" + b);
            const ans = await response.text();
            console.log(ans);
        }

        async function interest(){
            const p = document.getElementById("principal").value;
            const r = document.getElementById("rate").value;
            const t = document.getElementById("time").value;

            const response = await fetch("https://sum-server.100xdevs.com/interest?principal" + p + "&rate=" + r + "&time=" + t);
            const ans = await response.text();
            console.log(ans);
        }

    </script>
        <!-- <form> -->
            <input onchange="sum()" type="text" id="num1" placeholder="num1">
            <input onchange="sum()" type="text" id="num2" placeholder="num2">
            <button onclick="sum()"> calculate sum</button>
            <div id="result"></div>
            <br>
            <input onchange="interest()" type="text" id="principal" placeholder="principal">
            <input onchange="interest()" type="text" id="rate" placeholder="rate">
            <input onchange="interest()" type="text" id="time" placeholder="time">
            <button onclick="interest()"> calculate interest</button>
        <!-- </form> -->
    </body>
</html>